<!DOCTYPE html>
<html lang="en">
	<head>
		<title>Saints Baseball</title>
		<meta charset="UTF-8">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<link rel="stylesheet" href="../public/css/w3Styles.css">
		<link rel="stylesheet" href="https://www.w3schools.com/lib/w3-theme-black.css">
		<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto">
		<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
        <link rel="stylesheet" href="../public/css/styles.css">		
        <link rel="stylesheet" href="../public/css/statsStyles.css">
        <link rel="shortcut icon" type="image/png" href="../public/images/saintsFavicon.ico"/>
                
        <!-- Global site tag (gtag.js) - Google Analytics -->
		<script async src="https://www.googletagmanager.com/gtag/js?id=UA-151566221-1"></script>
		<script>
			window.dataLayer = window.dataLayer || [];
			function gtag(){dataLayer.push(arguments);}
			gtag('js', new Date());

			gtag('config', 'UA-151566221-1');
		</script>
	</head>
	<body>
		<!-- Navbar -->
		<div class="w3-top">
			<div class="w3-bar w3-theme w3-top w3-left-align w3-large">
				<a class="w3-bar-item w3-button w3-right w3-hover-white w3-large w3-theme-l1"
					href="javascript:void(0)" onclick="sidebarController.openSidebar()">
					<i class="fa fa-bars"></i>
				</a>
				<a href="../index.html" class="w3-bar-item w3-button w3-theme-l1">Saints</a>
			</div>
		</div>

		<!-- Overlay effect when opening sidebar -->
		<div class="w3-overlay" onclick="sidebarController.closeSidebar()" style="cursor:pointer" title="close side menu"
			id="myOverlay">
		</div>

		<!-- Sidebar -->
		<nav class="w3-sidebar w3-bar-block w3-collapse w3-large w3-theme-l5 w3-animate-left" id="mySidebar">
			<a href="javascript:void(0)" onclick="sidebarController.closeSidebar()"
				class="w3-right w3-xlarge w3-padding-large w3-hover-black" title="Close Menu">
				<i class="fa fa-remove"></i>
			</a>
			<h4 class="w3-bar-item">
				<b>Menu</b>
			</h4>
			<a class="w3-bar-item selected">Statistics</a>
		</nav>

		<!-- Main content -->
		<div class="w3-main">
			<div class="w3-row w3-padding-64">
                <div class="w3-container">
                    <h1 class="w3-text-black">Saints Statistics</h1>

                    <select id='season-selector' name='season'>
                        <option value='Season'>Season</option>
                    </select>
                    
                    <div></div>
                    <br>

                    <table id="stats-table" cellpadding="8">
                        <thead id='stats-header'></thead>
                        <tbody id='stats-body'></tbody>
                    </table>

                    <br>

                    <table id="key-table" cellpadding="5">
                        <thead>
                            <tr>
                                <th>Key</th>
                                <th></th>
                                <th></th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>G - Games</td>
                                <td>AB - At Bats</td>
                                <td>R - Runs</td>
                            </tr>
                            <tr>
                                <td>H - Hits</td>
                                <td>2B - Doubles</td>
                                <td>3B - Triples</td>
                            </tr>
                            <tr>
                                <td>HR - Homeruns</td>
                                <td>RBI - Runs Batted In</td>
                                <td>BB - Base on Balls</td>
                            </tr>
                            <tr>
                                <td>SO - Strikeouts</td>
                                <td>SB - Stolen Bases</td>
                                <td>CS - Caught Stealing</td>
                            </tr>
                            <tr>
                                <td>AVG - Average</td>
                                <td>OBP - On-Base Percentage</td>
                                <td>SLG - Slugging Percentage</td>
                            </tr>
                            <tr>
                                <td>OPS - On-Base Plus Slugging</td>
                                <td>IBB - Intentional Walks</td>
                                <td>HBP - Hit By Pitch</td>
                            </tr>
                            <tr>
                                <td>SAC - Sacrifice Bunts</td>
                                <td>SF - Sacrifice Flys</td>
                                <td>TB - Total Bases</td>
                            </tr>
                            <tr>
                                <td>XBH - Extra Base Hits</td>
                                <td>GDP - Grounded Into Double Play</td>
                                <td>GO - Ground Outs</td>
                            </tr>
                            <tr>
                                <td>AO - Fly Outs</td>
                                <td>GO_AO - Ground Outs Per Fly Out</td>
                                <td>PA - Plate Appearances</td>
                            </tr>
                        </tbody>
                    </table>  
                </div>
			</div>
		</div>

        <script src='../controllers/sidebarController.js'></script>
        <script src='../controllers/statisticsController.js'></script>
        <script src='../filebase/statisticsFilebase.js'></script>    
        <script>
            const sidebarElement = document.getElementById("mySidebar");
            const overlayElement = document.getElementById("myOverlay");
            sidebarController = sidebarController(sidebarElement, overlayElement);
    
            const seasonSelector = document.getElementById('season-selector');
            addSelectorOptions(seasonSelector, stats, document);

            document.addEventListener('DOMContentLoaded', function () {
                document.querySelector('select[name="season"]').onchange=changeEventHandler;
            }, false);
    
            function changeEventHandler() {                
                const statsHeader = document.getElementById('stats-header');
                const statsBody = document.getElementById('stats-body');

                buildStatisticsTable(stats[this.value], statsHeader, statsBody, document)
            }
        </script>
	</body>
</html>